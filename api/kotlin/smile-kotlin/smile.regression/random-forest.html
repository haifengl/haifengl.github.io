<!DOCTYPE html>
<html class="no-js">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-57GD08QCML"></script>
<script type="text/javascript" src="/api/java/script-dir/gtag.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>randomForest</title>
    <link href="../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../styles/style.css" rel="Stylesheet">
<link href="../../styles/main.css" rel="Stylesheet">
<link href="../../styles/prism.css" rel="Stylesheet">
<link href="../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../ui-kit/ui-kit.min.js" defer="defer"></script>
<script type="text/javascript" src="../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
            <a class="library-name--link" href="../../index.html">
                    smile-kotlin
            </a>
        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle"
                type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
4.4.0        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active=""
                        data-filter=":kotlin/main">jvm</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox"
                        data-role="dropdown-toggle"
                        aria-controls="platform-tags-listbox"
                        aria-haspopup="listbox"
                        aria-expanded="false"
                        aria-label="Toggle source sets"
                ></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":kotlin/main"
                                       data-filter=":kotlin/main"/>
                                <span class="checkbox--icon"></span>
                                jvm
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button"
                    type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list"
                        data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    smile-kotlin
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="member" id="content" pageIds="smile-kotlin::smile.regression//randomForest/#smile.data.formula.Formula#smile.data.DataFrame#kotlin.Int#kotlin.Int#kotlin.Int#kotlin.Int#kotlin.Int#kotlin.Double#kotlin.LongArray?/PointingToDeclaration//-1360140095">
  <div class="breadcrumbs"><a href="../../index.html">smile-kotlin</a><span class="delimiter">/</span><a href="index.html">smile.regression</a><span class="delimiter">/</span><span class="current">randomForest</span></div>
  <div class="cover ">
    <h1 class="cover"><span>random</span><wbr></wbr><span><span>Forest</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":kotlin/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="random-forest.html"><span class="token function">randomForest</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">formula<span class="token operator">: </span><span data-unresolved-link="smile.data.formula/Formula///PointingToDeclaration/">Formula</span><span class="token punctuation">, </span></span><span class="parameter ">data<span class="token operator">: </span><span data-unresolved-link="smile.data/DataFrame///PointingToDeclaration/">DataFrame</span><span class="token punctuation">, </span></span><span class="parameter ">ntrees<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span><span class="token constant">500</span><span class="token punctuation">, </span></span><span class="parameter ">mtry<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span><span class="token constant">0</span><span class="token punctuation">, </span></span><span class="parameter ">maxDepth<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span><span class="token constant">20</span><span class="token punctuation">, </span></span><span class="parameter ">maxNodes<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span><span class="token constant">500</span><span class="token punctuation">, </span></span><span class="parameter ">nodeSize<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a><span class="token operator"> = </span><span class="token constant">5</span><span class="token punctuation">, </span></span><span class="parameter ">subsample<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-double/index.html">Double</a><span class="token operator"> = </span><span class="token constant">1.0</span><span class="token punctuation">, </span></span><span class="parameter ">seeds<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-long-array/index.html">LongArray</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="smile.regression/RandomForest///PointingToDeclaration/">RandomForest</span><span class="clearfix"><span class="floating-right">(<a href="https://github.com/haifengl/smile/tree/master/kotlin/src/main/kotlin/smile/regression.kt#L297">source</a>)</span></span></div><p class="paragraph">Random forest for regression. Random forest is an ensemble classifier that consists of many decision trees and outputs the majority vote of individual trees. The method combines bagging idea and the random selection of features.</p><p class="paragraph">Each tree is constructed using the following algorithm:</p><ol><li><p class="paragraph">If the number of cases in the training set is N, randomly sample N cases with replacement from the original data. This sample will be the training set for growing the tree.</p></li><li><p class="paragraph">If there are M input variables, a number m << M is specified such that at each node, m variables are selected at random out of the M and the best split on these m is used to split the node. The value of m is held constant during the forest growing.</p></li><li><p class="paragraph">Each tree is grown to the largest extent possible. There is no pruning.</p></li></ol><p class="paragraph">The advantages of random forest are:</p><ul><li><p class="paragraph">For many data sets, it produces a highly accurate classifier.</p></li><li><p class="paragraph">It runs efficiently on large data sets.</p></li><li><p class="paragraph">It can handle thousands of input variables without variable deletion.</p></li><li><p class="paragraph">It gives estimates of what variables are important in the classification.</p></li><li><p class="paragraph">It generates an internal unbiased estimate of the generalization error as the forest building progresses.</p></li><li><p class="paragraph">It has an effective method for estimating missing data and maintains accuracy when a large proportion of the data are missing.</p></li></ul><p class="paragraph">The disadvantages are</p><ul><li><p class="paragraph">Random forests are prone to over-fitting for some datasets. This is even more pronounced on noisy data.</p></li><li><p class="paragraph">For data including categorical variables with different number of levels, random forests are biased in favor of those attributes with more levels. Therefore, the variable importance scores from random forest are not reliable for this type of data.</p></li></ul><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">Random forest regression model.</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>formula</span></span></u></div></span></div><div><div class="title"><p class="paragraph">a symbolic description of the model to be fitted.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>data</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the data frame of the explanatory and response variables.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>ntrees</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the number of trees.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>mtry</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the number of input variables to be used to determine the decision     at a node of the tree. dim/3 seems to give generally good performance,     where dim is the number of variables.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>max</span><wbr></wbr><span><span>Depth</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the maximum depth of the tree.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>max</span><wbr></wbr><span><span>Nodes</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the maximum number of leaf nodes in the tree.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>node</span><wbr></wbr><span><span>Size</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the minimum size of leaf nodes.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>subsample</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the sampling rate for training tree. 1.0 means sampling with replacement.     < 1.0 means sampling without replacement.</p></div></div></div></div><div class="table-row" data-filterable-current=":kotlin/main" data-filterable-set=":kotlin/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>seeds</span></span></u></div></span></div><div><div class="title"><p class="paragraph">optional RNG seeds for each decision tree.</p></div></div></div></div></div></div></div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>Copyright © 2010-2025 Haifeng Li. All rights reserved. Use is subject to license terms.</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>