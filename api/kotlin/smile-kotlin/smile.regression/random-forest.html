<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>randomForest</title>
<link href="../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../";</script><script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async="async"></script><link href="../../styles/style.css" rel="Stylesheet"><link href="../../styles/logo-styles.css" rel="Stylesheet"><link href="../../styles/jetbrains-mono.css" rel="Stylesheet"><link href="../../styles/main.css" rel="Stylesheet"><script type="text/javascript" src="../../scripts/clipboard.js" async="async"></script><script type="text/javascript" src="../../scripts/navigation-loader.js" async="async"></script><script type="text/javascript" src="../../scripts/platform-content-handler.js" async="async"></script><script type="text/javascript" src="../../scripts/main.js" async="async"></script>  </head>
  <body>
    <div id="container">
      <div id="leftColumn"><a href="../../index.html">
          <div id="logo"></div>
        </a>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
<script type="text/javascript" src="../../scripts/main.js"></script>        <div class="main-content" id="content" pageIds="smile-kotlin::smile.regression//randomForest/#smile.data.formula.Formula#smile.data.DataFrame#kotlin.Int#kotlin.Int#kotlin.Int#kotlin.Int#kotlin.Int#kotlin.Double/PointingToDeclaration//769193423">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="../../index.html">smile-kotlin</a>/<a href="index.html">smile.regression</a>/<a href="random-forest.html">randomForest</a></div>
            <div class="pull-right d-flex">
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>random</span><wbr></wbr><span><span>Forest</span></span></h1>
          </div>
<div class="divergent-group" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/main"><div class="symbol monospace">fun <a href="random-forest.html">randomForest</a>(formula: <span data-unresolved-link="smile.data.formula/Formula///PointingToDeclaration/">Formula</span>, data: <span data-unresolved-link="smile.data/DataFrame///PointingToDeclaration/">DataFrame</span>, ntrees: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a> = 500, mtry: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a> = 0, maxDepth: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a> = 20, maxNodes: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a> = 500, nodeSize: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html">Int</a> = 5, subsample: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-double/index.html">Double</a> = 1.0): <span data-unresolved-link="smile.regression/RandomForest///PointingToDeclaration/">RandomForest</span><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Random forest for regression. Random forest is an ensemble classifier that consists of many decision trees and outputs the majority vote of individual trees. The method combines bagging idea and the random selection of features.</p><p class="paragraph">Each tree is constructed using the following algorithm:</p><ol><li><p class="paragraph">If the number of cases in the training set is N, randomly sample N cases with replacement from the original data. This sample will be the training set for growing the tree.</p></li><li><p class="paragraph">If there are M input variables, a number m << M is specified such that at each node, m variables are selected at random out of the M and the best split on these m is used to split the node. The value of m is held constant during the forest growing.</p></li><li><p class="paragraph">Each tree is grown to the largest extent possible. There is no pruning.</p></li></ol><p class="paragraph">The advantages of random forest are:</p><ul><li><p class="paragraph">For many data sets, it produces a highly accurate classifier.</p></li><li><p class="paragraph">It runs efficiently on large data sets.</p></li><li><p class="paragraph">It can handle thousands of input variables without variable deletion.</p></li><li><p class="paragraph">It gives estimates of what variables are important in the classification.</p></li><li><p class="paragraph">It generates an internal unbiased estimate of the generalization error as the forest building progresses.</p></li><li><p class="paragraph">It has an effective method for estimating missing data and maintains accuracy when a large proportion of the data are missing.</p></li></ul><p class="paragraph">The disadvantages are</p><ul><li><p class="paragraph">Random forests are prone to over-fitting for some datasets. This is even more pronounced on noisy data.</p></li><li><p class="paragraph">For data including categorical variables with different number of levels, random forests are biased in favor of those attributes with more levels. Therefore, the variable importance scores from random forest are not reliable for this type of data.</p></li></ul><h4 class="">Return</h4><p class="paragraph">Random forest regression model.</p><h2 class="">Parameters</h2><div data-togglable="Parameters"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="Parameters"><div class="content sourceset-depenent-content" data-active="" data-togglable=":dokkaHtml/main"><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span><span>formula</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">a symbolic description of the model to be fitted.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span><span>data</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">the data frame of the explanatory and response variables.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span><span>ntrees</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">the number of trees.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span><span>mtry</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">the number of input variables to be used to determine the decision     at a node of the tree. dim/3 seems to give generally good performance,     where dim is the number of variables.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span>max</span><wbr></wbr><span><span>Depth</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">the maximum depth of the tree.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span>max</span><wbr></wbr><span><span>Nodes</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">the maximum number of leaf nodes in the tree.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span>node</span><wbr></wbr><span><span>Size</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">the minimum size of leaf nodes.</p></div></div></div></div></div><div class="table-row" data-filterable-current=":dokkaHtml/main" data-filterable-set=":dokkaHtml/main"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex"><span><span>subsample</span></span></span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">the sampling rate for training tree. 1.0 means sampling with replacement.     < 1.0 means sampling without replacement.</p></div></div></div></div></div></div></div></div></div></div></div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span>Â© 2023 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

