<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) on Tue Oct 21 23:06:39 EDT 2025 -->
<title>RandomForest</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-10-21">
<meta name="description" content="declaration: package: smile.regression, class: RandomForest">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../script-files/script.js"></script>
<script type="text/javascript" src="../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-files/jquery-ui.min.js"></script>
<script type="text/javascript" src="../../script-files/gtag.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../search.html">Search</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">smile.regression</a></li>
<li><a href="RandomForest.html" class="current-selection">RandomForest</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(smile.data.formula.Formula,smile.regression.RandomForest.Model%5B%5D,smile.validation.RegressionMetrics,double%5B%5D)" tabindex="0">RandomForest(Formula, RandomForest.Model[], RegressionMetrics, double[])</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#fit(smile.data.formula.Formula,smile.data.DataFrame)" tabindex="0">fit(Formula, DataFrame)</a></li>
<li><a href="#fit(smile.data.formula.Formula,smile.data.DataFrame,smile.regression.RandomForest.Options)" tabindex="0">fit(Formula, DataFrame, RandomForest.Options)</a></li>
<li><a href="#formula()" tabindex="0">formula()</a></li>
<li><a href="#schema()" tabindex="0">schema()</a></li>
<li><a href="#metrics()" tabindex="0">metrics()</a></li>
<li><a href="#importance()" tabindex="0">importance()</a></li>
<li><a href="#size()" tabindex="0">size()</a></li>
<li><a href="#models()" tabindex="0">models()</a></li>
<li><a href="#trees()" tabindex="0">trees()</a></li>
<li><a href="#trim(int)" tabindex="0">trim(int)</a></li>
<li><a href="#merge(smile.regression.RandomForest)" tabindex="0">merge(RandomForest)</a></li>
<li><a href="#predict(smile.data.Tuple)" tabindex="0">predict(Tuple)</a></li>
<li><a href="#test(smile.data.DataFrame)" tabindex="0">test(DataFrame)</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class RandomForest" class="title">Class RandomForest</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">smile.regression.RandomForest</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/function/ToDoubleFunction.html" title="class or interface in java.util.function" class="external-link">ToDoubleFunction</a>&lt;<a href="../data/Tuple.html" title="interface in smile.data">Tuple</a>&gt;, <a href="../feature/importance/SHAP.html" title="interface in smile.feature.importance">SHAP</a>&lt;<a href="../data/Tuple.html" title="interface in smile.data">Tuple</a>&gt;, <a href="../feature/importance/TreeSHAP.html" title="interface in smile.feature.importance">TreeSHAP</a>, <a href="DataFrameRegression.html" title="interface in smile.regression">DataFrameRegression</a>, <a href="Regression.html" title="interface in smile.regression">Regression</a>&lt;<a href="../data/Tuple.html" title="interface in smile.data">Tuple</a>&gt;</code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">RandomForest</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="DataFrameRegression.html" title="interface in smile.regression">DataFrameRegression</a>, <a href="../feature/importance/TreeSHAP.html" title="interface in smile.feature.importance">TreeSHAP</a></span></div>
<div class="block">Random forest for regression. Random forest is an ensemble method that
consists of many regression trees and outputs the average of individual
trees. The method combines bagging idea and the random selection of features.
<p>
Each tree is constructed using the following algorithm:
<ol>
<li> If the number of cases in the training set is N, randomly sample N cases 
with replacement from the original data. This sample will
be the training set for growing the tree. 
<li> If there are M input variables, a number <code>m &lt;&lt; M</code> is specified such
that at each node, m variables are selected at random out of the M and
the best split on these m is used to split the node. The value of m is
held constant during the forest growing. 
<li> Each tree is grown to the largest extent possible. There is no pruning. 
</ol>
The advantages of random forest are:
<ul>
<li> For many data sets, it produces a highly accurate model.
<li> It runs efficiently on large data sets.
<li> It can handle thousands of input variables without variable deletion.
<li> It gives estimates of what variables are important in the classification.
<li> It generates an internal unbiased estimate of the generalization error
as the forest building progresses.
<li> It has an effective method for estimating missing data and maintains
accuracy when a large proportion of the data are missing.
</ul>
The disadvantages are
<ul>
<li> Random forests are prone to over-fitting for some datasets. This is
even more pronounced in noisy classification/regression tasks.
<li> For data including categorical variables with different number of
levels, random forests are biased in favor of those attributes with more
levels. Therefore, the variable importance scores from random forest are
not reliable for this type of data.
</ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../serialized-form.html#smile.regression.RandomForest">Serialized Form</a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final record&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="RandomForest.Model.html" class="type-name-link" title="class in smile.regression">RandomForest.Model</a></code></div>
<div class="col-last even-row-color">
<div class="block">The base model.</div>
</div>
<div class="col-first odd-row-color"><code>static final record&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="RandomForest.Options.html" class="type-name-link" title="class in smile.regression">RandomForest.Options</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Random forest hyperparameters.</div>
</div>
<div class="col-first even-row-color"><code>static final record&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="RandomForest.TrainingStatus.html" class="type-name-link" title="class in smile.regression">RandomForest.TrainingStatus</a></code></div>
<div class="col-last even-row-color">
<div class="block">Training status per tree.</div>
</div>
</div>
<div class="inherited-list">
<h3 id="nested-classes-inherited-from-class-smile.regression.DataFrameRegression">Nested classes/interfaces inherited from interface&nbsp;<a href="DataFrameRegression.html#nested-class-summary" title="interface in smile.regression">DataFrameRegression</a></h3>
<code><a href="DataFrameRegression.Trainer.html" title="interface in smile.regression">DataFrameRegression.Trainer</a>&lt;M&gt;</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(smile.data.formula.Formula,smile.regression.RandomForest.Model%5B%5D,smile.validation.RegressionMetrics,double%5B%5D)" class="member-name-link">RandomForest</a><wbr>(<a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a>&nbsp;formula,
 <a href="RandomForest.Model.html" title="class in smile.regression">RandomForest.Model</a>[]&nbsp;models,
 <a href="../validation/RegressionMetrics.html" title="class in smile.validation">RegressionMetrics</a>&nbsp;metrics,
 double[]&nbsp;importance)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="RandomForest.html" title="class in smile.regression">RandomForest</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fit(smile.data.formula.Formula,smile.data.DataFrame)" class="member-name-link">fit</a><wbr>(<a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a>&nbsp;formula,
 <a href="../data/DataFrame.html" title="class in smile.data">DataFrame</a>&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Fits a random forest for regression.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="RandomForest.html" title="class in smile.regression">RandomForest</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fit(smile.data.formula.Formula,smile.data.DataFrame,smile.regression.RandomForest.Options)" class="member-name-link">fit</a><wbr>(<a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a>&nbsp;formula,
 <a href="../data/DataFrame.html" title="class in smile.data">DataFrame</a>&nbsp;data,
 <a href="RandomForest.Options.html" title="class in smile.regression">RandomForest.Options</a>&nbsp;options)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Fits a random forest for regression.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formula()" class="member-name-link">formula</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the model formula.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#importance()" class="member-name-link">importance</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the variable importance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RandomForest.html" title="class in smile.regression">RandomForest</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#merge(smile.regression.RandomForest)" class="member-name-link">merge</a><wbr>(<a href="RandomForest.html" title="class in smile.regression">RandomForest</a>&nbsp;other)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Merges two random forests.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../validation/RegressionMetrics.html" title="class in smile.validation">RegressionMetrics</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#metrics()" class="member-name-link">metrics</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the overall out-of-bag metric estimations.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RandomForest.Model.html" title="class in smile.regression">RandomForest.Model</a>[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#models()" class="member-name-link">models</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the base models.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#predict(smile.data.Tuple)" class="member-name-link">predict</a><wbr>(<a href="../data/Tuple.html" title="interface in smile.data">Tuple</a>&nbsp;x)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Predicts the dependent variable of an instance.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../data/type/StructType.html" title="class in smile.data.type">StructType</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#schema()" class="member-name-link">schema</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the schema of predictors.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the number of trees in the model.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[][]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#test(smile.data.DataFrame)" class="member-name-link">test</a><wbr>(<a href="../data/DataFrame.html" title="class in smile.data">DataFrame</a>&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Test the model on a validation dataset.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RegressionTree.html" title="class in smile.regression">RegressionTree</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#trees()" class="member-name-link">trees</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the decision trees.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RandomForest.html" title="class in smile.regression">RandomForest</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#trim(int)" class="member-name-link">trim</a><wbr>(int&nbsp;ntrees)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Trims the tree model set to a smaller size in case of over-fitting.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-smile.regression.DataFrameRegression">Methods inherited from interface&nbsp;<a href="DataFrameRegression.html#method-summary" title="interface in smile.regression">DataFrameRegression</a></h3>
<code><a href="DataFrameRegression.html#predict(smile.data.DataFrame)" title="predict(DataFrame)">predict</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-smile.regression.Regression">Methods inherited from interface&nbsp;<a href="Regression.html#method-summary" title="interface in smile.regression">Regression</a></h3>
<code><a href="Regression.html#applyAsDouble(T)" title="applyAsDouble(Tuple)">applyAsDouble</a>, <a href="Regression.html#online()" title="online()">online</a>, <a href="Regression.html#predict(java.util.List)" title="predict(List)">predict</a>, <a href="Regression.html#predict(smile.data.Dataset)" title="predict(Dataset)">predict</a>, <a href="Regression.html#predict(T%5B%5D)" title="predict(Tuple[])">predict</a>, <a href="Regression.html#update(smile.data.Dataset)" title="update(Dataset)">update</a>, <a href="Regression.html#update(T%5B%5D,double%5B%5D)" title="update(Tuple[], double[])">update</a>, <a href="Regression.html#update(T,double)" title="update(Tuple, double)">update</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-smile.feature.importance.SHAP">Methods inherited from interface&nbsp;<a href="../feature/importance/SHAP.html#method-summary" title="interface in smile.feature.importance">SHAP</a></h3>
<code><a href="../feature/importance/SHAP.html#shap(java.util.stream.Stream)" title="shap(Stream)">shap</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-smile.feature.importance.TreeSHAP">Methods inherited from interface&nbsp;<a href="../feature/importance/TreeSHAP.html#method-summary" title="interface in smile.feature.importance">TreeSHAP</a></h3>
<code><a href="../feature/importance/TreeSHAP.html#shap(smile.data.DataFrame)" title="shap(DataFrame)">shap</a>, <a href="../feature/importance/TreeSHAP.html#shap(smile.data.Tuple)" title="shap(Tuple)">shap</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(smile.data.formula.Formula,smile.regression.RandomForest.Model[],smile.validation.RegressionMetrics,double[])">
<h3>RandomForest</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">RandomForest</span><wbr><span class="parameters">(<a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a>&nbsp;formula,
 <a href="RandomForest.Model.html" title="class in smile.regression">RandomForest.Model</a>[]&nbsp;models,
 <a href="../validation/RegressionMetrics.html" title="class in smile.validation">RegressionMetrics</a>&nbsp;metrics,
 double[]&nbsp;importance)</span></div>
<div class="block">Constructor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>formula</code> - a symbolic description of the model to be fitted.</dd>
<dd><code>models</code> - the base models.</dd>
<dd><code>metrics</code> - the overall out-of-bag metric estimations.</dd>
<dd><code>importance</code> - the feature importance.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="fit(smile.data.formula.Formula,smile.data.DataFrame)">
<h3>fit</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="RandomForest.html" title="class in smile.regression">RandomForest</a></span>&nbsp;<span class="element-name">fit</span><wbr><span class="parameters">(<a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a>&nbsp;formula,
 <a href="../data/DataFrame.html" title="class in smile.data">DataFrame</a>&nbsp;data)</span></div>
<div class="block">Fits a random forest for regression.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>formula</code> - a symbolic description of the model to be fitted.</dd>
<dd><code>data</code> - the data frame of the explanatory and response variables.</dd>
<dt>Returns:</dt>
<dd>the model.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="fit(smile.data.formula.Formula,smile.data.DataFrame,smile.regression.RandomForest.Options)">
<h3>fit</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="RandomForest.html" title="class in smile.regression">RandomForest</a></span>&nbsp;<span class="element-name">fit</span><wbr><span class="parameters">(<a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a>&nbsp;formula,
 <a href="../data/DataFrame.html" title="class in smile.data">DataFrame</a>&nbsp;data,
 <a href="RandomForest.Options.html" title="class in smile.regression">RandomForest.Options</a>&nbsp;options)</span></div>
<div class="block">Fits a random forest for regression.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>formula</code> - a symbolic description of the model to be fitted.</dd>
<dd><code>data</code> - the data frame of the explanatory and response variables.</dd>
<dd><code>options</code> - the hyperparameters.</dd>
<dt>Returns:</dt>
<dd>the model.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="formula()">
<h3>formula</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../data/formula/Formula.html" title="class in smile.data.formula">Formula</a></span>&nbsp;<span class="element-name">formula</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="DataFrameRegression.html#formula()">DataFrameRegression</a></code></span></div>
<div class="block">Returns the model formula.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DataFrameRegression.html#formula()">formula</a></code>&nbsp;in interface&nbsp;<code><a href="DataFrameRegression.html" title="interface in smile.regression">DataFrameRegression</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="../feature/importance/TreeSHAP.html#formula()">formula</a></code>&nbsp;in interface&nbsp;<code><a href="../feature/importance/TreeSHAP.html" title="interface in smile.feature.importance">TreeSHAP</a></code></dd>
<dt>Returns:</dt>
<dd>the model formula.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="schema()">
<h3>schema</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../data/type/StructType.html" title="class in smile.data.type">StructType</a></span>&nbsp;<span class="element-name">schema</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="DataFrameRegression.html#schema()">DataFrameRegression</a></code></span></div>
<div class="block">Returns the schema of predictors.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DataFrameRegression.html#schema()">schema</a></code>&nbsp;in interface&nbsp;<code><a href="DataFrameRegression.html" title="interface in smile.regression">DataFrameRegression</a></code></dd>
<dt>Returns:</dt>
<dd>the schema of predictors.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="metrics()">
<h3>metrics</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../validation/RegressionMetrics.html" title="class in smile.validation">RegressionMetrics</a></span>&nbsp;<span class="element-name">metrics</span>()</div>
<div class="block">Returns the overall out-of-bag metric estimations. The OOB estimate is
quite accurate given that enough trees have been grown. Otherwise, the
OOB error estimate can bias upward.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the overall out-of-bag metric estimations.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="importance()">
<h3>importance</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">importance</span>()</div>
<div class="block">Returns the variable importance. Every time a split of a node is made
on variable the impurity criterion for the two descendent nodes is less
than the parent node. Adding up the decreases for each individual
variable over all trees in the forest gives a fast measure of variable
importance that is often very consistent with the permutation importance
measure.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the variable importance</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">size</span>()</div>
<div class="block">Returns the number of trees in the model.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of trees in the model</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="models()">
<h3>models</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RandomForest.Model.html" title="class in smile.regression">RandomForest.Model</a>[]</span>&nbsp;<span class="element-name">models</span>()</div>
<div class="block">Returns the base models.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the base models.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="trees()">
<h3>trees</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RegressionTree.html" title="class in smile.regression">RegressionTree</a>[]</span>&nbsp;<span class="element-name">trees</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="../feature/importance/TreeSHAP.html#trees()">TreeSHAP</a></code></span></div>
<div class="block">Returns the decision trees.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../feature/importance/TreeSHAP.html#trees()">trees</a></code>&nbsp;in interface&nbsp;<code><a href="../feature/importance/TreeSHAP.html" title="interface in smile.feature.importance">TreeSHAP</a></code></dd>
<dt>Returns:</dt>
<dd>the decision trees.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="trim(int)">
<h3>trim</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RandomForest.html" title="class in smile.regression">RandomForest</a></span>&nbsp;<span class="element-name">trim</span><wbr><span class="parameters">(int&nbsp;ntrees)</span></div>
<div class="block">Trims the tree model set to a smaller size in case of over-fitting.
Or if extra decision trees in the model don't improve the performance,
we may remove them to reduce the model size and also improve the speed of
prediction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ntrees</code> - the new (smaller) size of tree model set.</dd>
<dt>Returns:</dt>
<dd>the trimmed model.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="merge(smile.regression.RandomForest)">
<h3>merge</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RandomForest.html" title="class in smile.regression">RandomForest</a></span>&nbsp;<span class="element-name">merge</span><wbr><span class="parameters">(<a href="RandomForest.html" title="class in smile.regression">RandomForest</a>&nbsp;other)</span></div>
<div class="block">Merges two random forests.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>other</code> - the model to merge with.</dd>
<dt>Returns:</dt>
<dd>the merged model.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="predict(smile.data.Tuple)">
<h3>predict</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">predict</span><wbr><span class="parameters">(<a href="../data/Tuple.html" title="interface in smile.data">Tuple</a>&nbsp;x)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="Regression.html#predict(T)">Regression</a></code></span></div>
<div class="block">Predicts the dependent variable of an instance.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Regression.html#predict(T)">predict</a></code>&nbsp;in interface&nbsp;<code><a href="Regression.html" title="interface in smile.regression">Regression</a>&lt;<a href="../data/Tuple.html" title="interface in smile.data">Tuple</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>x</code> - an instance.</dd>
<dt>Returns:</dt>
<dd>the predicted value of dependent variable.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="test(smile.data.DataFrame)">
<h3>test</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double[][]</span>&nbsp;<span class="element-name">test</span><wbr><span class="parameters">(<a href="../data/DataFrame.html" title="class in smile.data">DataFrame</a>&nbsp;data)</span></div>
<div class="block">Test the model on a validation dataset.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - the test data set.</dd>
<dt>Returns:</dt>
<dd>the predictions with first 1, 2, ..., regression trees.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; 2010-2025 Haifeng Li. All rights reserved.
Use is subject to <a href="https://raw.githubusercontent.com/haifengl/smile/master/LICENSE">license terms.</a>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-57GD08QCML"></script></small></p>
</footer>
</main>
</div>
</body>
</html>
