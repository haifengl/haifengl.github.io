<!DOCTYPE html><html data-pathToRoot="" data-rawLocation="index" data-dynamicSideMenu="true"><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta><title>Smile - JSON</title><link rel="shortcut icon" type="image/x-icon" href="favicon.ico"></link><script type="text/javascript" src="scripts/theme.js"></script><script type="text/javascript" src="scripts/searchData.js" defer="true"></script><script type="text/javascript" src="scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="styles/theme/bundle.css"></link><link rel="stylesheet" href="styles/theme/components/bundle.css"></link><link rel="stylesheet" href="styles/theme/components/button/bundle.css"></link><link rel="stylesheet" href="styles/theme/layout/bundle.css"></link><link rel="stylesheet" href="styles/nord-light.css"></link><link rel="stylesheet" href="styles/dotty-icons.css"></link><link rel="stylesheet" href="styles/filter-bar.css"></link><link rel="stylesheet" href="styles/code-snippets.css"></link><link rel="stylesheet" href="styles/searchbar.css"></link><link rel="stylesheet" href="styles/social-links.css"></link><link rel="stylesheet" href="styles/versions-dropdown.css"></link><link rel="stylesheet" href="styles/content-contributors.css"></link><link rel="stylesheet" href="styles/fontawesome.css"></link><script type="text/javascript" src="hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="scripts/ux.js" defer="true"></script><script type="text/javascript" src="scripts/common/component.js" defer="true"></script><script type="text/javascript" src="scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="scripts/contributors.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="scripts/data.js" defer="true"></script><link rel="stylesheet" href="styles/apistyles.css"></link><script>var pathToRoot = "";</script></head><body><div id=""><div id="header" class="body-small"><div class="header-container-left"><a href="" class="logo-container"><span id="project-logo" class="project-logo"><img src="project-logo/smile.jpg"></img></span><span id="dark-project-logo" class="project-logo"><img src="project-logo/smile.jpg"></img></span><span class="project-name h300">Smile - JSON</span></a><span onclick="dropdownHandler(event)" class="text-button with-arrow" id="dropdown-trigger"><a><div class="projectVersion">4.2.0</div></a></span><div id="version-dropdown" class="dropdown-menu"></div></div><div class="header-container-right"><button id="search-toggle" class="icon-button"></button><span id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle" class="icon-button hamburger"></span></div></div><div id="mobile-menu"><div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span id="project-logo" class="project-logo"><img src="project-logo/smile.jpg"></img></span><span id="dark-project-logo" class="project-logo"><img src="project-logo/smile.jpg"></img></span><span class="project-name h300">Smile - JSON</span></span><button id="mobile-menu-close" class="icon-button close"></button></div><div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input" class="scaladoc-searchbar-input" type="search" placeholder="Find anything"></input><span id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div></div><span id="mobile-sidebar-toggle" class="floating-button"></span><div id="leftColumn" class="body-small"></div><div id="footer" class="body-small"><div class="left-container">Generated with</div><div class="right-container"><div class="text">Copyright © 2010-2025 Haifeng Li. All rights reserved.
<script async src="https://www.googletagmanager.com/gtag/js?id=G-57GD08QCML"></script>
<script type="text/javascript" src="/api/java/script-dir/gtag.js"></script>
Use is subject to license terms.</div></div><div class="text-mobile">Copyright © 2010-2025 Haifeng Li. All rights reserved.
Use is subject to license terms.</div></div><div id="scaladoc-searchBar"></div><div id="main"><div class="breadcrumbs container"><a href="index.html">Smile - JSON</a></div><div id="content" class="body-medium"><div><h1 class="h600">Smile - JSON</h1>
<div class="cover">
 <div class="doc">
  <p>JSON (JavaScript Object Notation) is a lightweight data-interchange format. It is easy for humans to read and write. It is easy for machines to parse and generate. JSON is a text format that is completely language independent but uses conventions that are familiar to programmers of the C-family of languages,</p>
  <p>JSON has only types of string, number, boolean, object, array, and null. This library includes additional types such as date, int, long, double, counter, binary, UUID, ObjectId (as in BSON), etc.</p>
  <p>It is very easy to parse a JSON object:</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>val doc =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  json"""
</span><span line-number="3" class=""><span class="tooltip-container"></span>  {
</span><span line-number="4" class=""><span class="tooltip-container"></span>    "store": {
</span><span line-number="5" class=""><span class="tooltip-container"></span>      "book": [
</span><span line-number="6" class=""><span class="tooltip-container"></span>        {
</span><span line-number="7" class=""><span class="tooltip-container"></span>          "category": "reference",
</span><span line-number="8" class=""><span class="tooltip-container"></span>          "author": "Nigel Rees",
</span><span line-number="9" class=""><span class="tooltip-container"></span>          "title": "Sayings of the Century",
</span><span line-number="10" class=""><span class="tooltip-container"></span>          "price": 8.95
</span><span line-number="11" class=""><span class="tooltip-container"></span>        },
</span><span line-number="12" class=""><span class="tooltip-container"></span>        {
</span><span line-number="13" class=""><span class="tooltip-container"></span>          "category": "fiction",
</span><span line-number="14" class=""><span class="tooltip-container"></span>          "author": "Evelyn Waugh",
</span><span line-number="15" class=""><span class="tooltip-container"></span>          "title": "Sword of Honour",
</span><span line-number="16" class=""><span class="tooltip-container"></span>          "price": 12.99
</span><span line-number="17" class=""><span class="tooltip-container"></span>        },
</span><span line-number="18" class=""><span class="tooltip-container"></span>        {
</span><span line-number="19" class=""><span class="tooltip-container"></span>          "category": "fiction",
</span><span line-number="20" class=""><span class="tooltip-container"></span>          "author": "Herman Melville",
</span><span line-number="21" class=""><span class="tooltip-container"></span>          "title": "Moby Dick",
</span><span line-number="22" class=""><span class="tooltip-container"></span>          "isbn": "0-553-21311-3",
</span><span line-number="23" class=""><span class="tooltip-container"></span>          "price": 8.99
</span><span line-number="24" class=""><span class="tooltip-container"></span>        },
</span><span line-number="25" class=""><span class="tooltip-container"></span>        {
</span><span line-number="26" class=""><span class="tooltip-container"></span>          "category": "fiction",
</span><span line-number="27" class=""><span class="tooltip-container"></span>          "author": "J. R. R. Tolkien",
</span><span line-number="28" class=""><span class="tooltip-container"></span>          "title": "The Lord of the Rings",
</span><span line-number="29" class=""><span class="tooltip-container"></span>          "isbn": "0-395-19395-8",
</span><span line-number="30" class=""><span class="tooltip-container"></span>          "price": 22.99
</span><span line-number="31" class=""><span class="tooltip-container"></span>        }
</span><span line-number="32" class=""><span class="tooltip-container"></span>      ],
</span><span line-number="33" class=""><span class="tooltip-container"></span>      "bicycle": {
</span><span line-number="34" class=""><span class="tooltip-container"></span>        "color": "red",
</span><span line-number="35" class=""><span class="tooltip-container"></span>        "price": 19.95
</span><span line-number="36" class=""><span class="tooltip-container"></span>      }
</span><span line-number="37" class=""><span class="tooltip-container"></span>    }
</span><span line-number="38" class=""><span class="tooltip-container"></span>  }
</span><span line-number="39" class=""><span class="tooltip-container"></span>  """
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>The interpolator <code>json</code> parse a string to <code>JsObject</code>. To parse an array, use the interpolator <code>jsan</code> to <code>JsArray</code>. It is also okay to embed variable references directly in processed string literals.</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>val x = 1
</span><span line-number="2" class=""><span class="tooltip-container"></span>json"""
</span><span line-number="3" class=""><span class="tooltip-container"></span>  {
</span><span line-number="4" class=""><span class="tooltip-container"></span>    "x": $x
</span><span line-number="5" class=""><span class="tooltip-container"></span>  }
</span><span line-number="6" class=""><span class="tooltip-container"></span>"""
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>If the string is not a JSON object but any other valid JSON expression, one may use parseJson method to convert the string to a <code>JsValue</code>.</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>"1".parseJson
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>The json interpolator can only be applied to string literals. If you want to parse a string variable, the <code>parseJson</code> method can always be employed. If you know the string contains a JSON object, you may also use the method <code>parseJsObject</code>.</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>val s = """{"x":1}"""
</span><span line-number="2" class=""><span class="tooltip-container"></span>s.parseJsObject
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>To serialize a JSON value (of type JsValue) in compact mode, you can just use <code>toString</code>. To pretty print, use the method <code>prettyPrint</code>.</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>doc.toString
</span><span line-number="2" class=""><span class="tooltip-container"></span>doc.prettyPrint
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>With a <code>JsObject</code> or <code>JsArray</code>, you can refer to the individual elements with a variation of array syntax, like this:</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>doc("store")("bicycle")("color")
</span><span line-number="2" class=""><span class="tooltip-container"></span>doc("store")("book")(0)("author")
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>Note that we follow Scala's array access convention by <code>()</code> rather than <code>[]</code> in JavaScript.</p>
  <p>Besides, you can use the dot notation to access its fields/elements just like in JavaScript:</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>doc.store.bicycle.color
</span><span line-number="2" class=""><span class="tooltip-container"></span>doc.store.book(0).author
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>It is worth noting that we didn't define the type/schema of the document while Scala is a strong type language. In other words, we have both the type safe features of strong type language and the flexibility of dynamic language in this JSON library.</p>
  <p>If you try to access a non-exist field, <code>JsUndefined</code> is returned.</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>scala&gt; doc.book
</span><span line-number="2" class=""><span class="tooltip-container"></span>res11: unicorn.json.JsValue = undefined
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>Although there are already several nice JSON libraries for Scala, the JSON objects are immutable by design, which is a natural choice for a functional language. For database, however, data mutation is necessary. Therefore, <code>JsObject</code> and <code>JsArray</code> are mutable data structures. You can set/add a field just like in JavaScript:</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>json.store.bicycle.color = "green"
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>To delete a field from <code>JsObject</code>, use remove method:</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>doc.store.book(0) remove "price"
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>It is same as setting it <code>JsUndefined</code>:</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>doc.store.book(0).price = `JsUndefined`
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>To delete an element from <code>JsArray</code>, the remove method will effectively remove it from the array. However, setting an element to undefined doesn't reduce the array size.</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>// delete the first element and array size is smaller
</span><span line-number="2" class=""><span class="tooltip-container"></span>doc.store.book.remove(0)
</span><span line-number="3" class=""><span class="tooltip-container"></span>// set the first element to undefined but array size keeps same
</span><span line-number="4" class=""><span class="tooltip-container"></span>doc.store.book(0) = JsUndefined
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>It is also possible to append an element or another array to <code>JsArray</code>:</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>val a = JsArray(1, 2, 3, 4)
</span><span line-number="2" class=""><span class="tooltip-container"></span>a += 5
</span><span line-number="3" class=""><span class="tooltip-container"></span>
</span><span line-number="4" class=""><span class="tooltip-container"></span>a ++= JsArray(5, 6)
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>Common iterative operations such as <code>foreach</code>, <code>map</code>, <code>reduce</code> can be applied to <code>JsArray</code> too.</p>
  <div class="snippet mono-small-block">
   <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span>doc.store.book.asInstanceOf[JsArray].foreach { book =&gt;
</span><span line-number="2" class=""><span class="tooltip-container"></span> println(book.price)
</span><span line-number="3" class=""><span class="tooltip-container"></span>}
</span></code></pre>
   <div class="buttons"></div>
  </div>
  <p>Because Scala is a static language, it is impossible to know <code>doc.store.book</code> is an array at compile time. So it is typed as generic <code>JsValue</code>, which is the parent type of specific JSON data types. Therefore, we use <code>asInstanceOf[JsArray]</code> to convert it to <code>JsArray</code> in order to use <code>foreach</code>.</p>
 </div>
 <section id="attributes">
  <h2 class="h500">Attributes</h2>
  <dl class="attributes"></dl>
 </section>
</div>
<section id="members-list">
 <h2 class="h500">Members list</h2>
 <div class="documentableFilter">
  <div class="filtersContainer"></div><input class="filterableInput" placeholder="Filter by any phrase" data-test-id="filterBarInput" type="search"><button class="clearButton label-only-button" data-test-id="filterBarClearButton">Clear all</button>
 </div>
 <div class="membersList expand">
  <div class="tabs">
   <div class="contents">
    <section id="Packages">
     <div data-togglable="packages" class="tab expand">
      <div class="documentableList expand">
       <div class="documentableList-expander">
        <button class="icon-button show-content expand"></button>
        <h3 class="groupHeader h400">Packages</h3>
       </div>
       <div class="documentableElement">
        <div class="documentableElement-expander">
         <button class="icon-button ar show-content"></button>
         <div class="header monospace mono-medium">
          <div class="signature">
           <span class="modifiers"></span><span class="kind"><span t="k">package </span></span><a href="smile/json.html" t="n" class="documentableName ">smile.json</a>
          </div>
         </div>
        </div>
        <div class="docs">
         <span class="modifiers"></span>
         <div>
          <div class="originInfo"></div>
          <div class="memberDocumentation">
           <div class="cover">
            <div class="doc"></div>
            <h2 class="h200">Attributes</h2>
            <dl class="attributes attributes-small"></dl>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section>
   </div>
  </div>
 </div>
</section></div><div id="toc" class="body-small"><div id="toc-container"><span class="toc-title h200">In this article</span><nav class="toc-nav"><ul class="toc-list"><li><a href="#attributes">Attributes</a></li><li><a href="#members-list">Members list</a><ul><li><a href="#Packages">Packages</a></li></ul></li></ul></nav></div></div></div><div id="footer" class="body-small mobile-footer"><div class="left-container">Generated with</div><div class="right-container"><div class="text">Copyright © 2010-2025 Haifeng Li. All rights reserved.
Use is subject to license terms.</div></div><div class="text-mobile">Copyright © 2010-2025 Haifeng Li. All rights reserved.
Use is subject to license terms.</div></div></div></div></body></html>