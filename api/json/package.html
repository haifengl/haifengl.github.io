<!DOCTYPE html >
<html>
        <head>
          <title>root - Smile - JSON - _root_</title>
          <meta name="description" content="root - Smile - JSON - root " />
          <meta name="keywords" content="root Smile JSON root " />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="lib/jquery-ui.js"></script>
      <script type="text/javascript" src="lib/template.js"></script>
      <script type="text/javascript" src="lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = 'index.html';
            var hash = 'package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="lib/package_big.png" />
        
        <h1>root package</h1><span class="permalink">
      <a href="index.html#package" title="Permalink" target="_top">
        <img src="lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">root</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><p>JSON (JavaScript Object Notation) is a lightweight data-interchange format.
It is easy for humans to read and write. It is easy for machines to parse
and generate. JSON is a text format that is completely language independent
but uses conventions that are familiar to programmers of the C-family of
languages,</p><p>JSON has only types of string, number, boolean, object, array, and null.
This library includes additional types such as date, int, long, double,
counter, binary, UUID, ObjectId (as in BSON), etc.</p><p>It is very easy to parse a JSON object:</p><pre><span class="kw">val</span> doc =
  json<span class="lit">""</span><span class="lit">"
  {
    "</span>store<span class="lit">": {
      "</span>book<span class="lit">": [
        {
          "</span>category<span class="lit">": "</span>reference<span class="lit">",
          "</span>author<span class="lit">": "</span>Nigel Rees<span class="lit">",
          "</span>title<span class="lit">": "</span>Sayings of the Century<span class="lit">",
          "</span>price<span class="lit">": 8.95
        },
        {
          "</span>category<span class="lit">": "</span>fiction<span class="lit">",
          "</span>author<span class="lit">": "</span>Evelyn Waugh<span class="lit">",
          "</span>title<span class="lit">": "</span>Sword of Honour<span class="lit">",
          "</span>price<span class="lit">": 12.99
        },
        {
          "</span>category<span class="lit">": "</span>fiction<span class="lit">",
          "</span>author<span class="lit">": "</span>Herman Melville<span class="lit">",
          "</span>title<span class="lit">": "</span>Moby Dick<span class="lit">",
          "</span>isbn<span class="lit">": "</span><span class="num">0</span>-<span class="num">553</span>-<span class="num">21311</span>-<span class="num">3</span><span class="lit">",
          "</span>price<span class="lit">": 8.99
        },
        {
          "</span>category<span class="lit">": "</span>fiction<span class="lit">",
          "</span>author<span class="lit">": "</span>J. R. R. Tolkien<span class="lit">",
          "</span>title<span class="lit">": "</span>The Lord of the Rings<span class="lit">",
          "</span>isbn<span class="lit">": "</span><span class="num">0</span>-<span class="num">395</span>-<span class="num">19395</span>-<span class="num">8</span><span class="lit">",
          "</span>price<span class="lit">": 22.99
        }
      ],
      "</span>bicycle<span class="lit">": {
        "</span>color<span class="lit">": "</span>red<span class="lit">",
        "</span>price<span class="lit">": 19.95
      }
    }
  }
  "</span><span class="lit">""</span></pre><p>The interpolator <code>json</code> parse a string to <code>JsObject</code>. To parse an array, use
the interpolator <code>jsan</code> to <code>JsArray</code>. It is also okay to embed
variable references directly in processed string literals.</p><pre><span class="kw">val</span> x = <span class="num">1</span>
json<span class="lit">""</span><span class="lit">"
  {
    "</span>x<span class="lit">": $x
  }
"</span><span class="lit">""</span></pre><p>If the string is not a JSON object but any other valid JSON expression,
one may use parseJson method to convert the string to a <code>JsValue</code>.</p><pre><span class="lit">"1"</span>.parseJson</pre><p>The json interpolator can only be applied to string literals.
If you want to parse a string variable, the <code>parseJson</code> method can
always be employed. If you know the string contains a JSON object,
you may also use the method <code>parseJsObject</code>.</p><pre><span class="kw">val</span> s = <span class="lit">""</span><span class="lit">"{"</span>x<span class="lit">":1}"</span><span class="lit">""</span>
s.parseJsObject</pre><p>To serialize a JSON value (of type JsValue) in compact mode, you can
just use <code>toString</code>. To pretty print, use the method <code>prettyPrint</code>.</p><pre>doc.toString
doc.prettyPrint</pre><p>With a <code>JsObject</code> or <code>JsArray</code>, you can refer to the individual
elements with a variation of array syntax, like this:</p><pre>doc(<span class="lit">"store"</span>)(<span class="lit">"bicycle"</span>)(<span class="lit">"color"</span>)
doc(<span class="lit">"store"</span>)(<span class="lit">"book"</span>)(<span class="num">0</span>)(<span class="lit">"author"</span>)</pre><p>Note that we follow Scala's array access convention by <code>()</code> rather than
<code>[]</code> in JavaScript.</p><p>Besides, you can use the dot notation to access its fields/elements
just like in JavaScript:</p><pre>doc.store.bicycle.color
doc.store.book(<span class="num">0</span>).author</pre><p>It is worth noting that we didn't define the type/schema of the document
while Scala is a strong type language. In other words, we have both the
type safe features of strong type language and the flexibility of dynamic
language in this JSON library.</p><p>If you try to access a non-exist field, <code>JsUndefined</code> is returned.</p><pre>scala&gt; doc.book
res11: unicorn.json.JsValue = undefined</pre><p>Although there are already several nice JSON libraries for Scala,
the JSON objects are immutable by design, which is a natural choice
for a functional language. For database, however, data mutation is necessary.
Therefore, <code>JsObject</code> and <code>JsArray</code> are mutable data structures. You can
set/add a field just like in JavaScript:</p><pre>json.store.bicycle.color = <span class="lit">"green"</span></pre><p>To delete a field from <code>JsObject</code>, use remove method:</p><pre>doc.store.book(<span class="num">0</span>) remove <span class="lit">"price"</span></pre><p>It is same as setting it <code>JsUndefined</code>:</p><pre>doc.store.book(<span class="num">0</span>).price = `JsUndefined`</pre><p>To delete an element from <code>JsArray</code>, the remove method will effectively
remove it from the array. However, setting an element to undefined
doesn't reduce the array size.</p><pre><span class="cmt">// delete the first element and array size is smaller</span>
doc.store.book.remove(<span class="num">0</span>)
<span class="cmt">// set the first element to undefined but array size keeps same</span>
doc.store.book(<span class="num">0</span>) = JsUndefined</pre><p>It is also possible to append an element or another array to <code>JsArray</code>:</p><pre><span class="kw">val</span> a = JsArray(<span class="num">1</span>, <span class="num">2</span>, <span class="num">3</span>, <span class="num">4</span>)
a += <span class="num">5</span>

a ++= JsArray(<span class="num">5</span>, <span class="num">6</span>)</pre><p>Common iterative operations such as <code>foreach</code>, <code>map</code>, <code>reduce</code> can be applied
to <code>JsArray</code> too.</p><pre>doc.store.book.asInstanceOf[JsArray].foreach { book <span class="kw">=&gt;</span>
 println(book.price)
}</pre><p>Because Scala is a static language, it is impossible to know
<code>doc.store.book</code> is an array at compile time. So it is typed as
generic <code>JsValue</code>, which is the parent type of specific JSON data types.
Therefore, we use <code>asInstanceOf[JsArray]</code> to convert it to <code>JsArray</code>
in order to use <code>foreach</code>.</p></div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="_root_.smile" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="smile"></a>
      <a id="smile:smile"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="smile/package.html"><span class="name">smile</span></a>
      </span>
      </h4><span class="permalink">
      <a href="index.html#package@smile" title="Permalink" target="_top">
        <img src="lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
